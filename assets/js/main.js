import{initTyping as t}from"./components/typing.js";import{initCounters as e}from"./components/counters.js";import{initCarousel as n}from"./components/carousel.js";import{initModal as r}from"./components/modal.js";import{initProjectFilters as o,initPublicationFilters as a,initTalkFilters as s}from"./components/filters.js";import{initObserver as i}from"./components/observer.js";import{initChart as c}from"./components/chart.js";import{initGreeting as d}from"./components/greeting.js";import{initBanner as m}from"./components/banner.js";import{initTechstack as l}from"./components/techstack.js";import{initTestimonials as u}from"./components/testimonials.js";const f="harry-theme-preference",p=window.matchMedia("(prefers-color-scheme: dark)");function g(){try{return localStorage.getItem(f)}catch(t){return null}}function h(t,e,n=!1){const r=e||(p.matches?"dark":"light");return t.classList.toggle("dark","dark"===r),n&&function(t){try{localStorage.setItem(f,t)}catch(t){}}(r),r}!function(){const f=document;f.documentElement.classList.remove("no-js"),function(t){const e=t.documentElement,n=Array.from(t.querySelectorAll("[data-theme-toggle]"));if(0===n.length)return;const r=t=>{n.forEach(e=>e.setAttribute("aria-pressed","dark"===t?"true":"false"))},o=g(),a=h(e,o);r(a),n.forEach(t=>{t.addEventListener("click",()=>{const t=e.classList.contains("dark")?"light":"dark";h(e,t,!0),r(t)})});const s=t=>{if(g())return;const n=t.matches?"dark":"light";h(e,n),r(n)};"function"==typeof p.addEventListener?p.addEventListener("change",s):"function"==typeof p.addListener&&p.addListener(s)}(f),function(t){const e=t.querySelector("[data-nav]"),n=t.querySelector("[data-nav-toggle]");if(!e||!n)return;const r=()=>{window.innerWidth<768?(e.classList.add("hidden"),n.setAttribute("aria-expanded","false")):(e.classList.remove("hidden"),n.setAttribute("aria-expanded","true"))};r(),n.addEventListener("click",()=>{const t=e.classList.toggle("hidden");n.setAttribute("aria-expanded",t?"false":"true")}),window.addEventListener("resize",r),e.addEventListener("click",t=>{window.innerWidth>=768||t.target instanceof HTMLElement&&"A"===t.target.tagName&&(e.classList.add("hidden"),n.setAttribute("aria-expanded","false"))})}(f),t(f.getElementById("hero-rotate")),e(f),n(f),r(f),o(f),a(f),s(f),i(f),c(f),function(t){d(t);const e=t.querySelector("[data-greeting]");if(e){const t=new Intl.DateTimeFormat("en-AU",{timeZone:"Australia/Sydney",hour:"2-digit",minute:"2-digit"}).format(new Date);e.setAttribute("data-sydney-time",t)}}(f),m(f),l(f),u(f),function(t){const e=t.querySelector("[data-current-year]"),n=t.querySelector("[data-last-updated]"),r=new Date;if(e&&(e.textContent=r.getFullYear()),n)try{const t=new Date(document.lastModified);n.textContent=t.toLocaleDateString("en-AU",{day:"numeric",month:"long",year:"numeric"})}catch(t){n.textContent=r.toLocaleDateString("en-AU")}}(f)}();