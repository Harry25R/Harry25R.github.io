const t=new Map;async function e(e){if(t.has(e))return t.get(e);try{const s=await fetch(e,{headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`Failed to load ${e}`);const a=await s.json();return t.set(e,a),a}catch(s){return console.error(s),t.set(e,[]),[]}}export function getProjects(){return e("/assets/data/projects.json")}export function getPublications(){return e("/assets/data/publications.json")}export function getTalks(){return e("/assets/data/talks.json")}export function getTestimonials(){return e("/assets/data/testimonials.json")}export async function getImpactData(){const e="/assets/data/impact.csv";if(t.has(e))return t.get(e);try{const s=await fetch(e,{headers:{Accept:"text/csv"}});if(!s.ok)throw new Error("Failed to load impact.csv");const a=(await s.text()).trim().split("\n"),[,...r]=a,n=r.map(t=>{const[e,s,a]=t.split(",");return{date:e,value:Number(s),label:a}}).filter(t=>!Number.isNaN(t.value));return t.set(e,n),n}catch(s){return console.error(s),t.set(e,[]),[]}}